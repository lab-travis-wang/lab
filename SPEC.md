# lab.travis.wang – SPEC v1

> 本文档定义 **lab.travis.wang** 的运行机制、工程规范与行为边界。  
> 目标不是“最优”，而是 **可长期运行、可演化、可复现**。

---

## 1. Lab 的定位

- Lab 不是单一产品
- Lab 是一组实验的 **入口、索引与控制平面（Control Plane）**
- Lab 本身不承载具体业务逻辑

Lab 的存在目的只有一个：

> **长期、低成本地运行产品实验，并捕捉真实信号。**

---

## 2. 时间与节奏

### 2.1 最小运行单位

- **一周（Week）是 Lab 的最小运行单位**
- 每一周必须：
  - 至少完成一个实验的构建（built）
  - 或对既有实验完成一次正式状态更新

> 未完成的周也必须结案并记录原因。

---

## 3. 实验生命周期规范

### 3.1 实验的定义

- 一个实验 = 一个独立的 Web / App
- 一个实验 = 一个 GitHub repo
- 一个实验 = 一个独立部署单元

### 3.2 实验状态机

实验不会被删除，只会在以下状态中流转：

- `built`：
  - MVP 已完成并上线
  - 功能冻结

- `observe`：
  - 默认状态
  - 不主动推广
  - 被动收集数据

- `iterate`：
  - 出现正向信号
  - 允许小幅迭代

- `graduate`：
  - 明确产品价值
  - 进入 Lab 之外的正式产品阶段

> Lab **不设 Kill 状态**。

---

## 4. 实验评估原则

### 4.1 核心原则

- 数据优先于感觉
- 信号优先于规模

### 4.2 评估时间窗口

- 初始观察：14–30 天
- 再评估：60–90 天
- 长期价值：≥ 90 天

### 4.3 可被视为“信号”的情况

- 自然访问量持续上升
- 用户主动反馈或联系
- 出现付费或明确付费意愿
- 被其他实验或外部项目复用

---

## 5. 工程结构规范

### 5.1 GitHub 组织结构

- GitHub Org：`lab-travis-wang`
- Lab 本身一个 repo
- 每个实验一个 repo
  - 命名格式: 26W15 (2026年第15周)

### 5.2 实验索引与元信息（JSON）

- Lab 的实验索引以 JSON 作为权威数据源：`experiments/registry.json`
- 每个实验 repo 根目录必须包含固定命名的元信息文件：`experiment.json`
  - 至少包含：`id`、`name`、`status`、`launched_at`、`repo`、`url`（可选）、`one_liner`

---

## 6. 后端与数据规范（PocketBase）

### 6.1 后端定位

- PocketBase 是 **共享记录系统**
- 也是实验的业务后端(用实验 id 前缀区别表名)

### 6.2 PocketBase 允许承载的内容

- 实验元数据
- 用户或匿名事件
- 实验状态
- 复盘与观察记录

### 6.3 禁止事项

- 在 PocketBase 中实现复杂业务逻辑

---

## 7. Agent 协作规范

### 7.1 Agent 的角色定义

- Agent 代表“岗位”，不是一次性 Prompt
- 每个 Agent 必须有明确边界

### 7.2 核心 Agent（v1）

- Agent 规范文件统一放在：`.github/agents/`
- [Market Ops Agent](./.github/agents/market-ops.agent.md)

### 7.3 通用工作流规范 (General Workflow)

所有 Agent 在执行任务时必须严格遵守：

1.  **任务追踪 (Task Tracking)**
    -   **Before**: 开始任何复杂任务前，必须读取 `pb_public/elog/tasks.md`。
    -   **Action**: 将当前任务添加到 `In Progress` 列表。
    -   **After**: 任务完成后，将其移动到 `Completed` 列表。

2.  **实验记录 (Experiment Logging)**
    -   Agent 不仅是执行者，也是记录员。
    -   在修改代码的同时，应主动维护实验日志（elog）。
    -   记录内容包括：尝试了什么方案、遇到了什么错误、最终如何解决。

---

## 8. 内容与公开原则

- 内容是 Lab 运行的副产品
- 不额外“制造内容”

允许公开：
- 判断失误
- 数据不足
- 实验失败

禁止：
- 美化结果
- 暗示成功保证
- 贩卖焦虑

---

## 9. 失败与资产沉淀

一个实验只要留下以下任意内容，即视为有价值资产：

- 可复用代码或模块
- 可复用 Prompt / Agent 定义
- 明确的错误判断记录

---

## 10. 版本与演化

- 本文档为 **SPEC v1**
- 允许补充与修订
- 不频繁推翻既有原则

> **稳定运行优先于机制完美。**
